
<!-- app/views/subscriptions/new.html.erb -->
<div class="mb-4">
  <h1>New Subscription for <%= @account.name %></h1>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <%= link_to "Accounts", accounts_path %>
      </li>
      <li class="breadcrumb-item">
        <%= link_to @account.name, @account %>
      </li>
      <li class="breadcrumb-item">
        <%= link_to "Subscriptions", account_subscriptions_path(@account) %>
      </li>
      <li class="breadcrumb-item active" aria-current="page">New</li>
    </ol>
  </nav>
</div>

<% if @available_products.any? %>
  <%= render 'form', subscription: @subscription %>
<% else %>
  <div class="alert alert-warning">
    <h5>No Available Products</h5>
    <p>This account already has subscriptions for all available products, or no products exist.</p>
    <div class="mt-3">
      <%= link_to "View Products", products_path, class: "btn btn-primary" %>
      <%= link_to "Back to Subscriptions", account_subscriptions_path(@account), class: "btn btn-secondary" %>
    </div>
  </div>
<% end %>
